-- Product Sizes Table
CREATE TABLE `product_sizes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `product_id` int(11) NOT NULL,
  `size` varchar(10) NOT NULL,
  `stock_quantity` int(11) DEFAULT 0,
  `is_available` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `fk_product_sizes_product` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;

-- Insert sample sizes for existing products (39-43)
INSERT INTO `product_sizes` (`product_id`, `size`, `stock_quantity`, `is_available`) VALUES
(1, '39', 5, 1),
(1, '40', 8, 1),
(1, '41', 10, 1),
(1, '42', 6, 1),
(1, '43', 4, 1),
(2, '39', 3, 1),
(2, '40', 7, 1),
(2, '41', 12, 1),
(2, '42', 8, 1),
(2, '43', 5, 1),
(3, '39', 4, 1),
(3, '40', 9, 1),
(3, '41', 15, 1),
(3, '42', 10, 1),
(3, '43', 6, 1),
(5, '39', 6, 1),
(5, '40', 11, 1),
(5, '41', 18, 1),
(5, '42', 12, 1),
(5, '43', 8, 1),
(6, '39', 5, 1),
(6, '40', 10, 1),
(6, '41', 16, 1),
(6, '42', 11, 1),
(6, '43', 7, 1),
(7, '39', 4, 1),
(7, '40', 8, 1),
(7, '41', 14, 1),
(7, '42', 9, 1),
(7, '43', 5, 1),
(8, '39', 7, 1),
(8, '40', 13, 1),
(8, '41', 20, 1),
(8, '42', 15, 1),
(8, '43', 10, 1),
(9, '39', 6, 1),
(9, '40', 12, 1),
(9, '41', 19, 1),
(9, '42', 14, 1),
(9, '43', 9, 1),
(10, '39', 5, 1),
(10, '40', 11, 1),
(10, '41', 17, 1),
(10, '42', 13, 1),
(10, '43', 8, 1),
(11, '39', 4, 1),
(11, '40', 9, 1),
(11, '41', 15, 1),
(11, '42', 10, 1),
(11, '43', 6, 1),
(12, '39', 6, 1),
(12, '40', 12, 1),
(12, '41', 18, 1),
(12, '42', 14, 1),
(12, '43', 9, 1),
(13, '39', 5, 1),
(13, '40', 10, 1),
(13, '41', 16, 1),
(13, '42', 11, 1),
(13, '43', 7, 1),
(14, '39', 4, 1),
(14, '40', 8, 1),
(14, '41', 14, 1),
(14, '42', 9, 1),
(14, '43', 5, 1),
(15, '39', 7, 1),
(15, '40', 13, 1),
(15, '41', 20, 1),
(15, '42', 15, 1),
(15, '43', 10, 1),
(16, '39', 6, 1),
(16, '40', 12, 1),
(16, '41', 19, 1),
(16, '42', 14, 1),
(16, '43', 9, 1),
(17, '39', 5, 1),
(17, '40', 11, 1),
(17, '41', 17, 1),
(17, '42', 13, 1),
(17, '43', 8, 1),
(18, '39', 4, 1),
(18, '40', 9, 1),
(18, '41', 15, 1),
(18, '42', 10, 1),
(18, '43', 6, 1),
(19, '39', 6, 1),
(19, '40', 12, 1),
(19, '41', 18, 1),
(19, '42', 14, 1),
(19, '43', 9, 1),
(20, '39', 5, 1),
(20, '40', 11, 1),
(20, '41', 17, 1),
(20, '42', 13, 1),
(20, '43', 8, 1),
(21, '39', 4, 1),
(21, '40', 8, 1),
(21, '41', 14, 1),
(21, '42', 9, 1),
(21, '43', 5, 1),
(22, '39', 7, 1),
(22, '40', 13, 1),
(22, '41', 20, 1),
(22, '42', 15, 1),
(22, '43', 10, 1),
(23, '39', 6, 1),
(23, '40', 12, 1),
(23, '41', 19, 1),
(23, '42', 14, 1),
(23, '43', 9, 1),
(24, '39', 5, 1),
(24, '40', 11, 1),
(24, '41', 17, 1),
(24, '42', 13, 1),
(24, '43', 8, 1);

-- Add size column to orders table to track which size was ordered
ALTER TABLE `orders` ADD COLUMN `size` varchar(10) DEFAULT NULL AFTER `quantity`;

-- Add size column to cart session (this will be handled in PHP) 